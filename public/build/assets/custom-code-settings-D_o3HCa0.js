const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ace-editor-DaDisMMx.js","./client-OfhJa1Pp.js"])))=>i.map(i=>d[i]);
import{aL as p,m as l,j as t,T as u,d as h,f,r as d,_ as x,P as b,bd as j}from"./client-OfhJa1Pp.js";import{A as _}from"./admin-config-tfY5n3F7.js";import{A as g}from"./settings-layout-ByStjXMl.js";import{u as C}from"./use-admin-settings-BobgiTFU.js";import{T,a as E,b as L}from"./tabs-BfUlcoJh.js";import"./dashboard-icons-CHop3mns.js";import"./library-icon-CHCHM-UW.js";import"./messages-square-icon-CTmom_u4.js";import"./main-CqFMqK8-.js";import"./custom-menu-BbwshV9x.js";import"./Delete-BhyMZiPM.js";import"./Home--R_oEr6a.js";import"./SupervisorAccount-k9OnPB-d.js";import"./Translate-Cs-ut2nW.js";import"./TextFields-8TfbEP0O.js";import"./settings-links-D22SAe6v.js";import"./external-link-DbBk1ItZ.js";import"./book-open-Cbdc52Ur.js";import"./use-admin-settings-page-nav-config-BVX-w9YX.js";import"./datatable-page-with-header-layout-B1YkbSHJ.js";import"./use-toggle-dashboard-left-sidebar-CnzMOFB9.js";import"./toggle-left-sidebar-icon-Dq5ZwqwZ.js";import"./file-upload-provider-DTPBUrkd.js";import"./uploaded-file-DN6fXT4v.js";import"./pretty-bytes-bO14ePu9.js";import"./with-selector-CDgEpx5P.js";import"./useMutationState-V1q6F41O.js";import"./blocker-dialog-B5ey95II.js";import"./confirmation-dialog-BIOq1A-h.js";const P=x.lazy(()=>j(()=>import("./ace-editor-DaDisMMx.js"),__vite__mapDeps([0,1]),import.meta.url)),c=[{name:"html",label:l("Custom HTML & JavaScript")},{name:"css",label:l("Custom CSS")}];function ot(){const[o,m]=p(),r=o.get("tab")||"html";let e=c.findIndex(s=>s.name===r);e=e===-1?0:e;const a=r==="html"?"html":"css",i=t.jsx(T,{selectedTab:e,onTabChange:s=>m({tab:c[s].name}),children:t.jsx(E,{className:"px-8",children:c.map(s=>t.jsx(L,{children:t.jsx(u,{...s.label})},s.name))})});return t.jsx(S,{mode:a,tabList:i},a)}function S({mode:o,tabList:m}){const{data:r}=C(),e=o==="css"?{custom_code:{css:r.custom_code.css}}:{custom_code:{html:r.custom_code.html}},a=h({defaultValues:e});return t.jsx(g,{form:a,title:t.jsx(u,{message:"Custom code"}),tabs:m,docsLink:_.settings.customCode,children:t.jsx("div",{className:"relative h-580 overflow-hidden rounded-panel border",children:t.jsx(A,{mode:o})})})}function A({mode:o}){const{setValue:m,getValues:r,setError:e,clearErrors:a}=f(),i=d.useRef(!0),s=o==="html"?"custom_code.html":"custom_code.css";return t.jsx(d.Suspense,{fallback:t.jsx(b,{isIndeterminate:!0}),children:t.jsx(P,{mode:o,onLoad:()=>{setTimeout(()=>i.current=!1,10)},onChange:n=>{if(!i.current)return m(s,n,{shouldDirty:!0})},defaultValue:r(s)||"",onIsValidChange:n=>{n?a(s):e(s,{type:"manual"})}})})}export{ot as Component};
