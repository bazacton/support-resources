import{r as f,aN as L,j as u,p as j,L as W,ae as H,_ as V,aw as T,aj as O,ax as _,az as A}from"./client-OfhJa1Pp.js";import{$ as D}from"./useEffectEvent-DQn3o5L0.js";import{C as q}from"./ChevronRight-T5gg5A4x.js";import{M as K}from"./MoreHoriz-hMMIYAbm.js";function P(o){let[n,s]=f.useState(o),l=f.useRef(n),r=f.useRef(null),e=f.useRef(()=>{if(!r.current)return;let i=r.current.next();if(i.done){r.current=null;return}l.current===i.value?e.current():s(i.value)});L(()=>{l.current=n,r.current&&e.current()});let m=f.useCallback(i=>{r.current=i(l.current),e.current()},[e]);return[n,m]}function X(){return typeof window.ResizeObserver<"u"}function F(o){const{ref:n,box:s,onResize:l}=o;let r=D(l);f.useEffect(()=>{let e=n==null?void 0:n.current;if(e)if(X()){const m=new window.ResizeObserver(i=>{i.length&&r()});return m.observe(e,{box:s}),()=>{e&&m.unobserve(e)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[n,s])}function G(o){const{isCurrent:n,sizeStyle:s,isMenuTrigger:l,isClickable:r,isDisabled:e,inactiveMuted:m,onSelected:i,className:k,isMenuItem:x,isLink:t,to:p,relative:w}=o,I=typeof o.children=="function"?o.children({isMenuItem:x}):o.children;if(x)return I;const z=l?{}:{tabIndex:t&&!e?0:void 0,role:t?"link":void 0,"aria-disabled":t?e:void 0,"aria-current":n&&t?"page":void 0,onClick:()=>i==null?void 0:i(),to:p,relative:w},E=p?W:"div";return u.jsxs("li",{className:j(`relative inline-flex min-w-0 flex-shrink-0 items-center justify-start transition-button ${s==null?void 0:s.font}`,(!r||e)&&"pointer-events-none",!n&&e&&"text-disabled",!n&&!e&&m&&"text-muted"),children:[u.jsx(E,{...z,className:j(k,"cursor-pointer overflow-hidden whitespace-nowrap rounded-button px-6",!l&&"py-2 hover:bg-hover",!l&&(t||p)&&"outline-none focus-visible:ring"),children:I}),n===!1&&u.jsx(q,{size:s==null?void 0:s.icon,className:j(e&&"text-disabled")})]})}const J=1,Q=10;function ne(o){const{size:n="md",children:s,isDisabled:l,className:r,currentIsClickable:e,isNavigation:m,inactiveMuted:i=!0}=o,{trans:k}=H(),x=U(n),t=[];V.Children.forEach(s,a=>{V.isValidElement(a)&&t.push(a)});const p=f.useRef(null),w=f.useRef(null),[I,z]=P(t.length),E=f.useCallback(()=>{const a=d=>{var C;const b=w.current;if(!b)return;const c=Array.from(b.children);if(!c.length)return;const g=b.offsetWidth,M=t.length>d;let h=0,v=0,y=Q;if(h+=c.shift().offsetWidth,v++,M&&(h+=((C=c.shift())==null?void 0:C.offsetWidth)??0,y--),h>=g&&v--,c.length>0){const $=c.pop();$.style.overflow="visible",h+=$.offsetWidth,h<g&&v++,$.style.overflow=""}for(const $ of c.reverse())h+=$.offsetWidth,h<g&&v++;return Math.max(J,Math.min(y,v))};z(function*(){yield t.length;const d=a(t.length);yield d,d<t.length&&d>1&&(yield a(d))})},[w,s,z]);F({ref:p,onResize:E}),L(E,[s]);let R=t;if(t.length>I){const a=t.length-1;R=[u.jsx(G,{sizeStyle:x,isMenuTrigger:!0,children:u.jsxs(T,{selectionMode:"single",selectedValue:a,children:[u.jsx(O,{"aria-label":"â€¦",disabled:l,size:x.btn,children:u.jsx(K,{})}),u.jsx(_,{children:t.map((g,M)=>{const h=a===M;return u.jsx(A,{to:g.props.to,value:M,onSelected:()=>{var v,y;h||(y=(v=g.props).onSelected)==null||y.call(v)},children:f.cloneElement(g,{isMenuItem:!0})},M)})})]})},"menu")];const b=[...t];let c=I;I>1&&(R.unshift(b.shift()),c--),R.push(...b.slice(-c))}const N=R.length-1,B=R.map((a,d)=>{const b=d===N,c=!b||e;return f.cloneElement(a,{key:a.key||d,isCurrent:b,sizeStyle:x,isClickable:c,isDisabled:l,inactiveMuted:i,isLink:m&&a.key!=="menu"})}),S=m?"nav":"div";return u.jsx(S,{className:j(r,"breadcrumb-root w-full min-w-0"),"aria-label":k({message:"Breadcrumbs"}),ref:p,children:u.jsx("ol",{ref:w,className:j("flex flex-nowrap justify-start",x.minHeight),children:B})})}function U(o){switch(o){case"sm":return{font:"text-sm",icon:"sm",btn:"sm",minHeight:"min-h-36"};case"lg":return{font:"text-lg",icon:"sm",btn:"md",minHeight:"min-h-42"};case"xl":return{font:"text-xl",icon:"sm",btn:"md",minHeight:"min-h-42"};default:return{font:"text-base",icon:"sm",btn:"md",minHeight:"min-h-42"}}}export{ne as B,G as a};
