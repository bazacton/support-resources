import{h as u,a as l,ae as g,i as c,k as x,q as j,l as p,t as h,m as f,d as v,j as e,T as r,av as y,B as b}from"./client-OfhJa1Pp.js";import{C,a as D}from"./crupdate-group-form-content-C8a6WG1u.js";import{D as I}from"./delete-group-dialog-Bi1GY0TI.js";import{o as G,u as q,a as B}from"./custom-menu-BbwshV9x.js";import{C as S}from"./crupdate-resource-layout-D52z_ZDE.js";import{B as N,a as n}from"./breadcrumb-DMWJORWM.js";import{I as T}from"./Info-tjnOYMTt.js";import"./team-DYmDDGxN.js";import"./main-CqFMqK8-.js";import"./name-with-avatar-DcHWBlN8.js";import"./skeleton-Cp2m1Uyc.js";import"./data-table-emty-state-message-DLsG3g03.js";import"./table-BifRiqkr.js";import"./checkbox-C4s6ROxp.js";import"./CheckBoxOutlineBlank-DQZJM1Yc.js";import"./ArrowDownward-mN9PlQJw.js";import"./useEffectEvent-DQn3o5L0.js";import"./is-ctrl-key-pressed-BWsUhNJl.js";import"./useGlobalListeners-CeWFSHKo.js";import"./select-Dsco87dL.js";import"./combobox-end-adornment-CaH5Sr_u.js";import"./use-filter-KNtT5Txy.js";import"./Add-CN0r1QLK.js";import"./use-is-module-installed-FCoToztC.js";import"./RadioButtonUnchecked-BaaUB3gV.js";import"./confirmation-dialog-BIOq1A-h.js";import"./datatable-page-with-header-layout-B1YkbSHJ.js";import"./use-toggle-dashboard-left-sidebar-CnzMOFB9.js";import"./toggle-left-sidebar-icon-Dq5ZwqwZ.js";import"./ChevronRight-T5gg5A4x.js";import"./MoreHoriz-hMMIYAbm.js";function F(a){const m=u(),{groupId:s}=l(),{trans:i}=g();return c({mutationFn:t=>x.put(`helpdesk/groups/${s}`,t).then(o=>o.data),onSuccess:async()=>{await j.invalidateQueries({queryKey:p.groups.invalidateKey}),h(i(f("Updated group"))),m("../groups")},onError:t=>G(t,a)})}function ue(){const{groupId:a}=q(["groupId"]),s=B(p.groups.get(a)).data.group,i=u(),t=v({defaultValues:{name:s.name,users:s.users,assignment_mode:s.assignment_mode??"auto"}}),o=F(t);return e.jsxs(S,{form:t,onSubmit:d=>{o.mutate(d)},title:e.jsxs(N,{size:"xl",children:[e.jsx(n,{to:"../groups",children:e.jsx(r,{message:"Groups"})}),e.jsx(n,{children:s.name})]}),isLoading:o.isPending,disableSaveWhenNotDirty:!0,submitButtonText:e.jsx(r,{message:"Save changes"}),children:[e.jsx(C,{group:s}),s.default&&e.jsxs("div",{className:"mt-44 flex items-center gap-8 text-sm text-muted",children:[e.jsx(T,{size:"sm"}),e.jsx(r,{message:"All agents belong to this group."})]}),!s.default&&e.jsxs("div",{className:"mt-44",children:[e.jsx(D,{margin:"mb-4",children:e.jsx(r,{message:"Delete group"})}),e.jsx("div",{className:"mb-24 text-sm",children:e.jsx(r,{message:"Group members and associated conversations will not be deleted."})}),e.jsxs(y,{type:"modal",children:[e.jsx(b,{color:"danger",variant:"outline",size:"xs",children:e.jsx(r,{message:"Delete group"})}),e.jsx(I,{groupId:s.id,onDeleted:()=>{i("../groups")}})]})]})]})}export{ue as Component};
