import{ae as k,j as e,ac as I,m as N,ad as v,az as f,T as n,r as c,bL as M,aj as p,aJ as A,aK as L,C as B,D as b,G as C,bB as T,p as h}from"./client-OfhJa1Pp.js";import{I as q,S as E}from"./custom-menu-BbwshV9x.js";import{S as H}from"./select-Dsco87dL.js";import{Y as R}from"./main-CqFMqK8-.js";import{u as U}from"./use-filter-KNtT5Txy.js";import{S}from"./skeleton-Cp2m1Uyc.js";const G=""+new URL("font-bxNTk0j0.svg",import.meta.url).href;function K({state:{filters:s,setFilters:t}}){const{trans:a}=k();return e.jsxs("div",{className:"mb-24 items-center gap-24 @xs:flex",children:[e.jsx(I,{className:"mb-12 flex-auto @xs:mb-0",value:s.query,onChange:i=>{t({...s,query:i.target.value})},startAdornment:e.jsx(v,{}),placeholder:a(N("Search fonts"))}),e.jsxs(H,{className:"flex-auto",selectionMode:"single",selectedValue:s.category,onSelectionChange:i=>{t({...s,category:i})},children:[e.jsx(f,{value:"",children:e.jsx(n,{message:"All categories"})}),e.jsx(f,{value:"serif",children:e.jsx(n,{message:"Serif"})}),e.jsx(f,{value:"sans-serif",children:e.jsx(n,{message:"Sans serif"})}),e.jsx(f,{value:"display",children:e.jsx(n,{message:"Display"})}),e.jsx(f,{value:"handwriting",children:e.jsx(n,{message:"Handwriting"})}),e.jsx(f,{value:"monospace",children:e.jsx(n,{message:"Monospace"})})]})]})}const V=[{label:N("System"),family:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',category:"sans-serif"},{family:"Impact, Charcoal, sans-serif",category:"sans-serif"},{family:"Arial, Helvetica Neue, Helvetica, sans-serif",category:"serif"},{family:'"Comic Sans MS", cursive, sans-serif',category:"Handwriting"},{family:"Century Gothic, sans-serif",category:"sans-serif"},{family:'"Courier New", Courier, monospace',category:"monospace"},{family:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',category:"sans-serif"},{family:'"Times New Roman", Times, serif',category:"serif"},{family:'"Lucida Console", Monaco, monospace',category:"monospace"},{family:'"Andele Mono", monospace, sans-serif',category:"sans-serif"},{family:"Verdana, Geneva, sans-serif",category:"sans-serif"},{family:'"Helvetica Neue", Helvetica, Arial, sans-serif',category:"sans-serif"}];function z(s,t){return s.reduce((a,i,o)=>{const l=Math.floor(o/t);return a[l]||(a[l]=[]),a[l].push(i),a},[])}function D({value:s,onChange:t}){const{data:a,isLoading:i}=R(["googleFonts"]),[o,l]=c.useState(0),[d,F]=c.useState({query:"",category:(s==null?void 0:s.category)??""}),{contains:y}=U({sensitivity:"base"}),u=c.useMemo(()=>V.concat((a==null?void 0:a.googleFonts)??[]),[a==null?void 0:a.googleFonts]),x=c.useMemo(()=>u.filter(r=>{var g;return y(r.family,d.query)&&(!d.category||((g=r.category)==null?void 0:g.toLowerCase())===d.category.toLowerCase())}),[u,d,y]),j=c.useMemo(()=>z(x,20),[x]),m=j[o];c.useEffect(()=>{if(a&&(s!=null&&s.family)){const r=x.findIndex(g=>g.family===s.family);r>=0&&l(Math.floor(r/20))}},[a,x,s==null?void 0:s.family]),c.useEffect(()=>{m!=null&&m.length&&M(m,{id:"font-selector"})},[m,o]);const w=c.useCallback(r=>{F(r),l(0)},[]);return{fonts:m||[],currentPage:o,filteredFonts:x||[],setCurrentPage:l,isLoading:i,filters:d,setFilters:w,value:s,onChange:t,pages:j}}function J({state:{currentPage:s=0,setCurrentPage:t,filteredFonts:a,pages:i}}){const o=(a==null?void 0:a.length)||0;return e.jsxs("div",{className:"mt-30 flex items-center justify-end gap-24 border-t pt-14 text-sm",children:[o>0&&e.jsx("div",{children:e.jsx(n,{message:":from - :to of :total",values:{from:s*20+1,to:Math.min((s+1)*20,o),total:o}})}),e.jsxs("div",{className:"text-muted",children:[e.jsx(p,{disabled:s<1,onClick:()=>{t(Math.max(0,s-1))},children:e.jsx(A,{})}),e.jsx(p,{disabled:s>=i.length-1,onClick:()=>{t(s+1)},children:e.jsx(L,{})})]})]})}function ee(s){const t=D(s);return e.jsxs("div",{className:s.className,children:[e.jsx(K,{state:t}),e.jsx(B,{initial:!1,mode:"wait",children:e.jsx(Y,{state:t})}),e.jsx(J,{state:t})]})}function Y({state:s}){const{isLoading:t,fonts:a}=s,i="grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start";return t?e.jsx(Q,{className:i}):a!=null&&a.length?e.jsx(b.div,{...C,className:i,children:a==null?void 0:a.map(o=>e.jsx(O,{font:o,state:s},o.family))},"font-list"):e.jsx(q,{className:"mt-60",size:"sm",image:e.jsx(E,{src:G}),title:e.jsx(n,{message:"No matching fonts"}),description:e.jsx(n,{message:"Try another search query or different category"})})}function O({font:s,state:{value:t,onChange:a}}){const i=(t==null?void 0:t.family)===s.family,o=s.family.split(",")[0].replace(/"/g,"");return e.jsxs(T,{display:"block",onClick:()=>{a(s)},children:[e.jsx("span",{className:h("flex aspect-square items-center justify-center rounded-panel border text-4xl transition-bg-color hover:bg-hover md:text-5xl",i&&"ring-2 ring-primary ring-offset-2"),children:e.jsx("span",{style:{fontFamily:s.family},children:"Aa"})}),e.jsx("span",{className:h("mt-6 block overflow-hidden overflow-ellipsis whitespace-nowrap text-sm",i&&"text-primary"),children:s.label?e.jsx(n,{...s.label}):o})]},s.family)}function Q({className:s}){const t=Array.from(Array(20).keys());return e.jsx(b.div,{...C,className:s,children:t.map(a=>e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square",children:e.jsx(S,{display:"block",variant:"rect"})}),e.jsx(S,{className:"mt-6 text-sm"})]},a))},"font-list-skeleton")}export{V as B,ee as F};
