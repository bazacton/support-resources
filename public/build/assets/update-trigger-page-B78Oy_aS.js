import{ae as p,a as d,h as c,i as f,q as l,t as x,m as j,k as y,d as T,j as t,T as o}from"./client-OfhJa1Pp.js";import{o as n,h}from"./main-CqFMqK8-.js";import{C}from"./crupdate-trigger-form-DnmcjdJN.js";import{D as Q}from"./paginated-resources-BrzANtLm.js";import{o as q,u as I,a as g}from"./custom-menu-BbwshV9x.js";import{C as b}from"./crupdate-resource-layout-D52z_ZDE.js";import{B as E,a as m}from"./breadcrumb-DMWJORWM.js";import"./use-tags-BR3jky3Z.js";import"./form-chip-field-sH5S7-lx.js";import"./chip-list-CkGaRoaT.js";import"./select-Dsco87dL.js";import"./combobox-end-adornment-CaH5Sr_u.js";import"./Add-CN0r1QLK.js";import"./permission-selector-IaWi5pV6.js";import"./accordion-DWEV-mKU.js";import"./accordtion-animation-BGCK95Hj.js";import"./uc-first-pSl3nM3z.js";import"./group-array-by-5IjT7qk6.js";import"./datatable-page-with-header-layout-B1YkbSHJ.js";import"./use-toggle-dashboard-left-sidebar-CnzMOFB9.js";import"./toggle-left-sidebar-icon-Dq5ZwqwZ.js";import"./useEffectEvent-DQn3o5L0.js";import"./ChevronRight-T5gg5A4x.js";import"./MoreHoriz-hMMIYAbm.js";function F(i){const{trans:r}=p(),{triggerId:a}=d(),s=c();return f({mutationFn:e=>P(a,e),onSuccess:()=>{l.invalidateQueries({queryKey:Q("triggers")}),s("/admin/triggers"),x(r(j("Trigger updated")))},onError:e=>q(e,i)})}function P(i,r){return y.put(`triggers/${i}`,r).then(a=>a.data)}function _(){const{triggerId:i}=I(["triggerId"]),r=g(n.triggers.get(i)),a=g(n.triggers.config()),s=T({defaultValues:{name:r.data.trigger.name,description:r.data.trigger.description,conditions:r.data.trigger.config.conditions,actions:r.data.trigger.config.actions}}),e=F(s);return t.jsxs(b,{onSubmit:u=>e.mutate(u),form:s,title:t.jsxs(E,{size:"xl",children:[t.jsx(m,{to:"../triggers",children:t.jsx(o,{message:"Triggers"})}),t.jsx(m,{children:r.data.trigger.name})]}),isLoading:e.isPending,wrapInContainer:!0,children:[t.jsx(h,{children:t.jsx(o,{message:"Edit trigger"})}),t.jsx(C,{config:a.data})]})}export{_ as Component};
