import{r as e}from"./client-OfhJa1Pp.js";function B(w,t,c,P){var j=this,i=e.useRef(null),a=e.useRef(0),x=e.useRef(0),u=e.useRef(null),f=e.useRef([]),v=e.useRef(),m=e.useRef(),S=e.useRef(w),d=e.useRef(!0),o=e.useRef(),y=e.useRef();S.current=w;var D=typeof window<"u",g=!t&&t!==0&&D;if(typeof w!="function")throw new TypeError("Expected a function");t=+t||0;var L=!!(c=c||{}).leading,A=!("trailing"in c)||!!c.trailing,R=!!c.flushOnExit&&A,h="maxWait"in c,M="debounceOnServer"in c&&!!c.debounceOnServer,F=h?Math.max(+c.maxWait||0,t):null,T=e.useMemo(function(){var l=function(r){var n=f.current,s=v.current;return f.current=v.current=null,a.current=r,x.current=x.current||r,m.current=S.current.apply(s,n)},p=function(r,n){g&&cancelAnimationFrame(u.current),u.current=g?requestAnimationFrame(r):setTimeout(r,n)},W=function(r){if(!d.current)return!1;var n=r-i.current;return!i.current||n>=t||n<0||h&&r-a.current>=F},q=function(r){return u.current=null,A&&f.current?l(r):(f.current=v.current=null,m.current)},O=function r(){var n=Date.now();if(L&&x.current===a.current&&k(),W(n))return q(n);if(d.current){var s=t-(n-i.current),b=h?Math.min(s,F-(n-a.current)):s;p(r,b)}},k=function(){},E=function(){if(D||M){var r,n=Date.now(),s=W(n);if(f.current=[].slice.call(arguments),v.current=j,i.current=n,R&&!o.current&&(o.current=function(){var b;((b=global.document)==null?void 0:b.visibilityState)==="hidden"&&y.current.flush()},(r=global.document)==null||r.addEventListener==null||r.addEventListener("visibilitychange",o.current)),s){if(!u.current&&d.current)return a.current=i.current,p(O,t),L?l(i.current):m.current;if(h)return p(O,t),l(i.current)}return u.current||p(O,t),m.current}};return E.cancel=function(){var r=u.current;r&&(g?cancelAnimationFrame(u.current):clearTimeout(u.current)),a.current=0,f.current=i.current=v.current=u.current=null},E.isPending=function(){return!!u.current},E.flush=function(){return u.current?q(Date.now()):m.current},E},[L,h,t,F,A,R,g,D,M,P]);return y.current=T,e.useEffect(function(){return d.current=!0,function(){var l;R&&y.current.flush(),o.current&&((l=global.document)==null||l.removeEventListener==null||l.removeEventListener("visibilitychange",o.current),o.current=null),d.current=!1}},[R]),T}export{B as c};
