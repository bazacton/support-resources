const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./icon-list-CuAVKcdS.js","./client-OfhJa1Pp.js","./use-filter-KNtT5Txy.js","./main-CqFMqK8-.js","./custom-menu-BbwshV9x.js","./main-B8UNR6xn.css","./AccountTree-Dxk2iKnz.js","./Add-CN0r1QLK.js","./AddAPhoto-eWqbbo4Z.js","./AddPhotoAlternate-CfOOrUJU.js","./AssignmentInd-Cjch7uuG.js","./Translate-Cs-ut2nW.js","./AlternateEmail-DjCOtnvc.js","./PhonelinkLock-C7x0YnbT.js","./FileUpload-B22fc7n3.js","./ArrowBack-DcV9hHRo.js","./ArrowDownward-mN9PlQJw.js","./Subject-CgGz_Gm0.js","./ArrowDropUp-TtMj7pr0.js","./ArrowForward-COs0hk5q.js","./ArrowRight-BuqZHXGI.js","./ArrowUpward-0cWC32BO.js","./Article-Daay8e29.js","./AttachFile-DK1KiGUi.js","./SentimentVerySatisfied-ChS7u0W9.js","./BarChart-DZzEjksI.js","./MultipleStop-B-9jf3-_.js","./dashboard-icons-CHop3mns.js","./library-icon-CHCHM-UW.js","./messages-square-icon-CTmom_u4.js","./Delete-BhyMZiPM.js","./Home--R_oEr6a.js","./SupervisorAccount-k9OnPB-d.js","./BrowserUpdated-fmlRhQJc.js","./Chat-Ct1un6CP.js","./ChatBubbleOutline-BMaPdsVG.js","./CheckBoxOutlineBlank-DQZJM1Yc.js","./ChevronLeft-B96ua4ZU.js","./ChevronRight-T5gg5A4x.js","./OpenInFull-HWkxb3KN.js","./FormatListNumbered-rvs8UAfH.js","./Tablet-Oq_GwDxE.js","./ConfirmationNumber-8T4bmILd.js","./UploadFile-CpvhTaSF.js","./Remove-DknY9bfu.js","./DataObject-XQLwxsph.js","./Download-ealU7kv_.js","./DragHandle-DNpm5kSf.js","./DragIndicator-BbWWPJ1P.js","./Edit-JNj6SFDx.js","./Email-BEay9knN.js","./Event-7FmyLdJJ.js","./EventRepeat-kbgkM_Qr.js","./FileDownload-DoJWzr8l.js","./FilterAlt-CXibH0wr.js","./Undo-D06cFnP3.js","./FormatColorFill-8XiV_8LV.js","./FullscreenExit-BVexRmJS.js","./Image-CLhNm6Gt.js","./Help-DaN2Y9a4.js","./HelpOutline-BWHaeyMp.js","./HourglassEmpty-BpvqVftp.js","./Info-tjnOYMTt.js","./VideoLibrary-DdQlyMIC.js","./KeyboardArrowUp-Xa5HfHPG.js","./Link-DfTxpaxj.js","./Lock-CrI8g69F.js","./Login-D6kg4ucG.js","./ViewDay-DMtpTfzM.js","./Spellcheck-Bs1hoM4Q.js","./MenuOpen-BAwJbqWN.js","./MoreHoriz-hMMIYAbm.js","./MoreVert-Ci70_mZh.js","./ToggleOn-DZgCezoB.js","./OpenInNew-Q67MT6Ae.js","./Pause-jGXmuSlQ.js","./PersonOff-hROtNsgz.js","./Power-B-bD5HaX.js","./PriorityHigh-C-SfNUlB.js","./Public-PQskOobw.js","./PushPin-Df_CN_Sp.js","./RadioButtonUnchecked-BaaUB3gV.js","./RestartAlt-BBLLDvr_.js","./Route-BmvB1Yb9.js","./Schedule-BuWxyNlz.js","./Send-CHhhtcWL.js","./Storage-pqc_3-OB.js","./Sync-6-pU802x.js","./TextFields-8TfbEP0O.js","./ThumbDown-CmU9VZYm.js","./ThumbUp-B7v5mSGQ.js","./TrendingFlat-DBEm8S3C.js","./Tune-DusFnn8x.js","./Visibility-BkaRhH0o.js","./envato-DBGzmVaf.js","./permission-selector-IaWi5pV6.js","./accordion-DWEV-mKU.js","./accordtion-animation-BGCK95Hj.js","./uc-first-pSl3nM3z.js","./form-chip-field-sH5S7-lx.js","./chip-list-CkGaRoaT.js","./select-Dsco87dL.js","./combobox-end-adornment-CaH5Sr_u.js","./use-previous-Ce5tCQ26.js","./skeleton-Cp2m1Uyc.js"])))=>i.map(i=>d[i]);
import{ae as x,_ as A,j as e,ac as N,C as T,r as d,D as I,G as F,bd as M,am as k,an as C,T as r,ap as _,al as b,Z as v,F as g,m as p,f as D,b6 as R,av as V,aj as q,az as u,ay as O,u as Q,d as B,bg as P,aP as G,B as H}from"./client-OfhJa1Pp.js";import{c as S,Y as z,d as K,e as U}from"./main-CqFMqK8-.js";import{b as W,p as $}from"./permission-selector-IaWi5pV6.js";import{F as E}from"./form-chip-field-sH5S7-lx.js";import{F as j}from"./select-Dsco87dL.js";import{E as Y}from"./Edit-JNj6SFDx.js";import{u as Z}from"./use-previous-Ce5tCQ26.js";import{S as J}from"./skeleton-Cp2m1Uyc.js";import{A as X,a as f}from"./accordion-DWEV-mKU.js";import{u as ee}from"./use-filter-KNtT5Txy.js";import{A as se}from"./Add-CN0r1QLK.js";import{u as ae}from"./uc-first-pSl3nM3z.js";const y={grid:"flex flex-wrap gap-24",button:"flex flex-col items-center rounded hover:bg-hover h-90 aspect-square"},ne=[...Array(60).keys()],te=A.lazy(()=>M(()=>import("./icon-list-CuAVKcdS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104]),import.meta.url));function re({onIconSelected:s}){const{trans:a}=x(),[l,o]=A.useState("");return e.jsxs("div",{className:"py-4",children:[e.jsx(N,{className:"mb-20",value:l,onChange:n=>{o(n.target.value)},placeholder:a({message:"Search icons..."})}),e.jsx(T,{mode:"wait",children:e.jsx(d.Suspense,{fallback:e.jsx(I.div,{...F,className:y.grid,children:ne.map((n,i)=>e.jsx("div",{className:y.button,children:e.jsx(J,{variant:"rect"})},i))}),children:e.jsx(I.div,{...F,className:y.grid,children:e.jsx(te,{searchQuery:l,onIconSelected:s})})})})]})}function le(){return e.jsxs(k,{size:"w-850",className:"min-h-dialog",children:[e.jsx(C,{children:e.jsx(r,{message:"Select icon"})}),e.jsx(_,{children:e.jsx(ie,{})})]})}function ie(){const{close:s}=b();return e.jsx(re,{onIconSelected:a=>{s(a)}})}function L(){const{data:s}=v(S.settings.menuEditorConfig());return s!=null&&s.config?s.config.available_routes.map(a=>({id:a,label:a,action:a,type:"route",target:"_self"})):[]}function Ne({formPathPrefix:s,hideRoleAndPermissionFields:a,children:l}){const{trans:o}=x(),n=i=>s?`${s}.${i}`:i;return e.jsxs(d.Fragment,{children:[e.jsx(g,{className:"mb-20",name:n("label"),label:e.jsx(r,{message:"Label"}),placeholder:o(p("No label...")),startAppend:e.jsx(oe,{prefixName:n})}),l,e.jsx(ce,{prefixName:n}),e.jsx(xe,{prefixName:n}),!a&&e.jsxs(d.Fragment,{children:[e.jsx(me,{prefixName:n}),e.jsx(ue,{prefixName:n}),e.jsx(de,{prefixName:n})]})]})}function oe({prefixName:s,...a}){const{watch:l,setValue:o}=D(),n=s("icon"),i=l(n),c=i&&R(i);return e.jsxs(V,{type:"modal",onClose:t=>{(t||t===null)&&o(n,t,{shouldDirty:!0})},children:[e.jsx(q,{className:"text-muted icon-sm",variant:"outline",size:"md",...a,children:c?e.jsx(c,{}):e.jsx(Y,{})}),e.jsx(le,{})]})}function ce({prefixName:s}){const a=D(),l=a.watch(s("type")),o=Z(l),{data:n}=z(["menuItemCategories"]),i=(n==null?void 0:n.menuItemCategories)||[],c=i.find(m=>m.type===l),{trans:t}=x(),h=L();return d.useEffect(()=>{o&&o!==l&&a.getValues(s("type"))&&a.setValue(s("action"),"")},[l,o,a,s]),e.jsxs(d.Fragment,{children:[e.jsxs(j,{className:"mb-20",name:s("type"),selectionMode:"single",label:e.jsx(r,{message:"Link type"}),children:[e.jsx(u,{value:"link",children:e.jsx(r,{message:"External link"})}),e.jsx(u,{value:"route",children:e.jsx(r,{message:"Site page"})}),i.map(m=>e.jsx(u,{value:m.type,children:m.name},m.type))]}),l==="link"&&e.jsx(g,{className:"mb-20",required:!0,type:"url",name:s("action"),placeholder:t({message:"Enter a url..."}),label:e.jsx(r,{message:"Url"})}),l==="route"&&e.jsx(j,{className:"mb-20",required:!0,items:h,name:s("action"),label:e.jsx(r,{message:"Page"}),searchPlaceholder:t(p("Search pages")),showSearchField:!0,selectionMode:"single",children:m=>e.jsx(u,{value:m.id,children:m.label},m.id)}),c&&e.jsx(j,{className:"mb-20",required:!0,items:c.items,name:s("action"),showSearchField:!0,searchPlaceholder:t(p("Search...")),selectionMode:"single",label:e.jsx(r,{message:c.name}),children:m=>e.jsx(u,{value:m.action,children:e.jsx(r,{message:m.label})})})]})}function me({prefixName:s}){const{data:a}=z(["roles"]),l=(a==null?void 0:a.roles)||[],{trans:o}=x();return e.jsx(E,{className:"my-20",placeholder:o({message:"Add role..."}),label:e.jsx(r,{message:"Only show if user has role"}),name:s("roles"),chipSize:"sm",suggestions:l,valueKey:"id",displayWith:n=>{var i;return(i=l.find(c=>c.id===n.id))==null?void 0:i.name},children:n=>e.jsx(u,{value:n.id,capitalizeFirst:!0,children:e.jsx(r,{message:n.name})},n.id)})}function ue({prefixName:s}){var n;const a=v(S.permissions.index()),{trans:l}=x(),o=d.useMemo(()=>{var i;return W(((i=a.data)==null?void 0:i.permissions)||[],[])},[(n=a.data)==null?void 0:n.permissions]);return e.jsx(E,{label:e.jsx(r,{message:"Only show if user has permissions"}),placeholder:l({message:"Add permission..."}),chipSize:"sm",suggestions:o,name:s("permissions"),valueKey:"name",children:({groupName:i,items:c})=>e.jsx(O,{label:$(i),children:c.map(t=>e.jsx(u,{value:t.name,description:e.jsx(r,{message:t.description}),children:e.jsx(r,{message:t.display_name||t.name})},t.name))},i)})}function de({prefixName:s}){const{billing:a}=Q();return a.enable?e.jsxs(j,{selectionMode:"single",className:"mt-20",label:e.jsx(r,{message:"Subscription status"}),name:s("subscriptionStatus"),children:[e.jsx(u,{value:"subscribed",children:e.jsx(r,{message:"Only show if user is subscribed"})}),e.jsx(u,{value:"unsubscribed",children:e.jsx(r,{message:"Only show if user is not subscribed"})}),e.jsx(u,{value:null,children:e.jsx(r,{message:"Always show"})})]}):null}function xe({prefixName:s}){return e.jsxs(j,{className:"mt-20",selectionMode:"single",name:s("target"),label:e.jsx(r,{message:"Open link in"}),children:[e.jsx(u,{value:"_self",children:e.jsx(r,{message:"Same window"})}),e.jsx(u,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})}function ke({title:s=e.jsx(r,{message:"Add menu item"})}){const{type:a}=b(),{data:l}=v(S.settings.menuEditorConfig()),o=L(),n=(l==null?void 0:l.categories)||[],i=a==="drawer"?"max-h-auto":"max-h-240 overflow-y-auto";return e.jsxs(k,{size:a==="drawer"?"md":"sm",children:[e.jsx(C,{children:s}),e.jsx(_,{children:e.jsxs(X,{variant:"outline",children:[e.jsx(f,{label:e.jsx(r,{message:"Link"}),bodyClassName:i,children:e.jsx(je,{})}),e.jsx(f,{label:e.jsx(r,{message:"Route"}),bodyClassName:i,children:e.jsx(w,{items:o})}),n.map(c=>e.jsx(f,{bodyClassName:i,label:e.jsx(r,{message:c.name}),children:e.jsx(w,{items:c.items})},c.name))]})})]})}function je(){const s=B({defaultValues:{id:P(6),type:"link",target:"_blank"}}),{close:a}=b();return e.jsxs(G,{form:s,onSubmit:l=>{a(l)},children:[e.jsx(g,{required:!0,name:"label",label:e.jsx(r,{message:"Label"}),className:"mb-20"}),e.jsx(g,{required:!0,type:"url",name:"action",placeholder:"https://",label:e.jsx(r,{message:"Url"}),className:"mb-20"}),e.jsx("div",{className:"text-right",children:e.jsx(H,{type:"submit",variant:"flat",color:"primary",size:"xs",children:e.jsx(r,{message:"Add to menu"})})})]})}function w({items:s}){const{trans:a}=x(),{close:l}=b(),[o,n]=d.useState(""),{contains:i}=ee({sensitivity:"base"}),c=s.filter(t=>i(t.action??"",o));return e.jsxs(d.Fragment,{children:[e.jsx(N,{placeholder:a(p("Search...")),value:o,size:"sm",onChange:t=>n(t.target.value),className:"mb-12"}),e.jsx(K,{children:c.map(t=>e.jsx(U,{startIcon:e.jsx(se,{size:"sm"}),onSelected:()=>{if(t.label){const h=t.label.split("/").pop();t.label=h?ae(h):t.label,t.id=P(6)}t.target||(t.target="_self"),l(t)},children:t.label},t.id))})]})}export{ke as A,Ne as M,y as i};
