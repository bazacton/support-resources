import{Z as c,k as p,aY as u,j as s,b9 as m,bf as x,E as h,p as f,n as j,at as g}from"./client-OfhJa1Pp.js";import{D as b}from"./dashboard-content-DeTnfYfM.js";import{D as S}from"./dashboard-layout-CMJbtylq.js";import{D as y}from"./dashboard-sidenav-B5THGxpt.js";import{S as D}from"./section-helper-Cq13cJUI.js";import{I as v}from"./Info-tjnOYMTt.js";import{A as I}from"./admin-sidebar-C7E-KcYn.js";import"./use-previous-Ce5tCQ26.js";import"./main-CqFMqK8-.js";import"./custom-menu-BbwshV9x.js";import"./admin-config-tfY5n3F7.js";import"./dashboard-icons-CHop3mns.js";import"./library-icon-CHCHM-UW.js";import"./messages-square-icon-CTmom_u4.js";import"./Delete-BhyMZiPM.js";import"./Home--R_oEr6a.js";import"./SupervisorAccount-k9OnPB-d.js";import"./Translate-Cs-ut2nW.js";import"./TextFields-8TfbEP0O.js";import"./use-toggle-dashboard-left-sidebar-CnzMOFB9.js";import"./KeyboardArrowUp-Xa5HfHPG.js";function L(){return c({queryKey:["admin-site-alerts"],queryFn:()=>p.get("admin/site-alerts").then(e=>e.data)})}function P(){const i=u().some(o=>{var t;return(t=o.handle)==null?void 0:t.customDashboardLayout});return s.jsxs(S,{name:"admin",leftSidenavCanBeCompact:!0,className:"dashboard-layout-with-spacing",children:[s.jsx(y,{position:"left",size:"sm",children:s.jsx(I,{})}),i?s.jsxs(s.Fragment,{children:[s.jsx(d,{}),s.jsx(m,{})]}):s.jsx(b,{isScrollable:!0,stableScrollbar:!1,children:s.jsxs("div",{className:"dashboard-rounded-panel",children:[s.jsx(d,{}),s.jsx(m,{})]})})]})}function d(){const{data:e}=L(),[i]=x("dismissed-site-alerts",[]),o=e==null?void 0:e.alerts.filter(t=>!(i!=null&&i.some(r=>r.id===t.id&&Date.now()-r.timestamp<864e5)));return o!=null&&o.length?s.jsx("div",{className:"fixed bottom-24 right-24 z-10 mx-auto flex w-[742px] max-w-[calc(100%-48px)] flex-col gap-12",children:o.map(t=>s.jsx(w,{alert:t},t.id))}):null}function w({alert:e}){const i=s.jsx("div",{dangerouslySetInnerHTML:{__html:e.description}}),o=()=>{const r=j("dismissed-site-alerts")||[],a={id:e.id,timestamp:Date.now()},n=r.findIndex(l=>l.id===e.id);n===-1?r.push(a):r[n]=a,g("dismissed-site-alerts",r)},t=e.severity==="error"?s.jsx(h,{size:"xs",className:"text-danger"}):s.jsx(v,{size:"xs"});return s.jsx("div",{className:f("overflow-hidden rounded-panel bg shadow-lg"),children:s.jsx(D,{leadingIcon:t,onClose:()=>o(),title:e.title,description:i,color:e.severity==="error"?"danger":"neutral"},e.title)})}export{P as Component};
