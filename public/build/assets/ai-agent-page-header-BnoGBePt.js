import{i as j,s as p,q as b,k as h,A as f,j as e,T as t,r as I,b3 as C,aw as v,B as c,ax as T,az as u,av as P,L as S,d as D,t as F,m as l,al as M,am as B,an as k,ap as H,aP as E,F as L,aq as q,g as z}from"./client-OfhJa1Pp.js";import{g as m,h as K,A as w,Q}from"./main-CqFMqK8-.js";import{T as V}from"./toggle-preview-button-xp_UTzfM.js";import{u as y,o as $,a as N}from"./custom-menu-BbwshV9x.js";import{A as g}from"./admin-config-tfY5n3F7.js";import{D as O}from"./datatable-page-with-header-layout-B1YkbSHJ.js";import{u as U}from"./use-url-backed-tabs-D_W8N2tz.js";import{T as Z,a as R,b as W}from"./tabs-BfUlcoJh.js";import{B as x}from"./book-open-Cbdc52Ur.js";import{A as _}from"./Add-CN0r1QLK.js";function G(s){const{aiAgentId:a}=y(["aiAgentId"]);return j({mutationFn:n=>h.put(`lc/ai-agents/${a}`,n),onSuccess:()=>{b.invalidateQueries({queryKey:m.agents.invalidateKey})},onError:n=>{s?$(n,s):p(n)}})}const J=f([e.jsx("path",{d:"M8.66667 6.66667C8.29848 6.66667 8 6.96514 8 7.33333V24.6667C8 25.0349 8.29848 25.3333 8.66667 25.3333H12.6667C13.0349 25.3333 13.3333 25.0349 13.3333 24.6667V7.33333C13.3333 6.96514 13.0349 6.66667 12.6667 6.66667H8.66667Z"},"0"),e.jsx("path",{d:"M19.3333 6.66667C18.9651 6.66667 18.6667 6.96514 18.6667 7.33333V24.6667C18.6667 25.0349 18.9651 25.3333 19.3333 25.3333H23.3333C23.7015 25.3333 24 25.0349 24 24.6667V7.33333C24 6.96514 23.7015 6.66667 23.3333 6.66667H19.3333Z"},"1")],"MediaPause","0 0 32 32"),X=f(e.jsx("path",{d:"M10.6667 6.6548C10.6667 6.10764 11.2894 5.79346 11.7295 6.11862L24.377 15.4634C24.7377 15.7298 24.7377 16.2692 24.3771 16.5357L11.7295 25.8813C11.2895 26.2065 10.6667 25.8923 10.6667 25.3451L10.6667 6.6548Z"}),"MediaPlay","0 0 32 32"),A=[{uri:"settings",label:{message:"Settings"}},{uri:"knowledge",label:{message:"Knowledge"}},{uri:"flows",label:{message:"Flows"}},{uri:"tools",label:{message:"Tools"}}];function Y(){const[s,a]=U(A);return e.jsx(Z,{selectedTab:s,onTabChange:a,children:e.jsx(R,{className:"px-24",children:A.map(n=>e.jsx(W,{elementType:S,to:`../${n.uri}`,children:e.jsx(t,{...n.label})},n.uri))})})}function je({previewVisible:s,onTogglePreview:a}){return e.jsxs("div",{children:[e.jsx(K,{children:e.jsx(t,{message:"AI Agents"})}),e.jsx(O,{showSidebarToggleButton:!0,border:"border-none",rightContent:e.jsx(ae,{previewVisible:s,onTogglePreview:a}),leftContent:e.jsx(ee,{}),children:e.jsx(t,{message:"AI Agents"})}),e.jsx(Y,{})]})}function ee(){const[s,a]=I.useState(!1),{aiAgentId:n}=y(["aiAgentId"]),d=C(),{data:o}=N(m.agents.index()),i=o.aiAgents.find(r=>`${r.id}`===n)||o.aiAgents[0];return e.jsxs(e.Fragment,{children:[e.jsxs(v,{selectedValue:n,selectionMode:"single",children:[e.jsx(c,{variant:"outline",endIcon:e.jsx(w,{}),size:"xs",children:i.config.name}),e.jsxs(T,{children:[o.aiAgents.map(r=>e.jsx(u,{value:`${r.id}`,onSelected:()=>d(`../../${r.id}`,{replace:!0}),children:r.config.name},r.id)),e.jsx(u,{value:"create",onClick:()=>a(!0),startIcon:e.jsx(_,{size:"sm"}),children:e.jsx(t,{message:"Create new AI agent"})})]})]}),e.jsx(P,{type:"modal",isOpen:s,onOpenChange:a,children:e.jsx(se,{})})]})}function se(){const s=C(),a=D(),n=j({mutationFn:i=>h.post("lc/ai-agents",i).then(r=>r.data),onSuccess:i=>{b.invalidateQueries({queryKey:m.invalidateKey}),s(`../../${i.aiAgent.id}`,{replace:!0}),F(l("AI Agent created")),o()},onError:i=>p(i)}),{formId:d,close:o}=M();return e.jsxs(B,{children:[e.jsx(k,{children:e.jsx(t,{message:"Create AI Agent"})}),e.jsx(H,{children:e.jsx(E,{id:d,form:a,onSubmit:i=>{n.mutate(i)},children:e.jsx(L,{required:!0,name:"name",autoFocus:!0,label:e.jsx(t,{message:"Name"})})})}),e.jsxs(q,{children:[e.jsx(c,{type:"button",onClick:()=>o(),children:e.jsx(t,{message:"Cancel"})}),e.jsx(c,{type:"submit",form:d,disabled:n.isPending,variant:"flat",color:"primary",children:e.jsx(t,{message:"Create"})})]})]})}function ae({previewVisible:s,onTogglePreview:a}){return e.jsxs(I.Fragment,{children:[e.jsx(te,{}),!!a&&e.jsx(V,{onTogglePreview:a,previewIsVisible:s??!1}),e.jsx(ie,{})]})}const ne=[{url:g.settings.ai,label:l("Choosing AI Provider")},{url:g.pages.aiAgentSettings,label:l("AI Agent Settings")},{url:g.pages.aiAgentKnowledge,label:l("AI Agent Knowledge")},{url:g.pages.flows,label:l("Building AI Agent Flows")},{url:g.pages.tools,label:l("Using Tools With AI Agent")}];function te(){return e.jsxs(v,{children:[e.jsx(c,{variant:"outline",startIcon:e.jsx(x,{}),endIcon:e.jsx(w,{}),size:"xs",children:e.jsx(t,{message:"Learn"})}),e.jsx(T,{children:ne.map(s=>e.jsx(u,{value:s.url,to:s.url,target:"_blank",startIcon:e.jsx(x,{size:"xs"}),children:e.jsx(t,{...s.label})},s.url))})]})}function ie(){const s=z(),a=G();return Q().enabled?e.jsx(c,{variant:"flat",color:"chip",size:"xs",startIcon:e.jsx(J,{}),disabled:a.isPending,onClick:()=>a.mutate({enabled:!1}),className:s?"min-w-90":"min-w-140",children:s?e.jsx(t,{message:"Pause"}):e.jsx(t,{message:"Pause AI Agent"})}):e.jsx(c,{variant:"flat",color:"positive",size:"xs",startIcon:e.jsx(X,{}),disabled:a.isPending,onClick:()=>a.mutate({enabled:!0}),className:s?"min-w-90":"min-w-140",children:s?e.jsx(t,{message:"Enable"}):e.jsx(t,{message:"Enable AI Agent"})})}export{je as A,G as u};
