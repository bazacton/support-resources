import{j as e,aQ as d,as as c,T as t,b7 as p,a_ as u,aj as g,aZ as h}from"./client-OfhJa1Pp.js";import{c as x}from"./main-CqFMqK8-.js";import{a as j}from"./name-with-avatar-DcHWBlN8.js";import{u as b}from"./use-rerurun-scheduled-command-DfGIovMK.js";import{E as f}from"./EventRepeat-kbgkM_Qr.js";import{G as y}from"./global-loading-progress-CKXIm6JS.js";import{D}from"./data-table-add-item-button-2jwTYQ5G.js";import{D as S}from"./data-table-header-CeAVoFvI.js";import{D as w}from"./data-table-pagination-footer-CEEx1VtI.js";import{u as C}from"./use-datatable-search-params-CQGreY35.js";import{D as P}from"./data-table-emty-state-message-DLsG3g03.js";import{a as T,b as v,c as I}from"./datatable-page-with-header-layout-B1YkbSHJ.js";import{u as k}from"./use-datatable-query-BQ-GXlzU.js";import{T as N}from"./table-BifRiqkr.js";import{D as R}from"./Download-ealU7kv_.js";import"./custom-menu-BbwshV9x.js";import"./skeleton-Cp2m1Uyc.js";import"./paginated-resources-BrzANtLm.js";import"./Add-CN0r1QLK.js";import"./FilterAlt-CXibH0wr.js";import"./select-filter-panel-C_zo36WK.js";import"./form-chip-field-sH5S7-lx.js";import"./chip-list-CkGaRoaT.js";import"./filter-operator-names-BZog1mvA.js";import"./select-Dsco87dL.js";import"./combobox-end-adornment-CaH5Sr_u.js";import"./normalized-model-field-COxh0lBC.js";import"./Edit-JNj6SFDx.js";import"./accordion-DWEV-mKU.js";import"./accordtion-animation-BGCK95Hj.js";import"./checkbox-C4s6ROxp.js";import"./CheckBoxOutlineBlank-DQZJM1Yc.js";import"./use-toggle-dashboard-left-sidebar-CnzMOFB9.js";import"./toggle-left-sidebar-icon-Dq5ZwqwZ.js";import"./ArrowDownward-mN9PlQJw.js";import"./useEffectEvent-DQn3o5L0.js";import"./is-ctrl-key-pressed-BWsUhNJl.js";import"./useGlobalListeners-CeWFSHKo.js";function B({value:a}){return a?e.jsx(d,{className:"text-positive icon-md"}):e.jsx(c,{className:"text-danger icon-md"})}const E=[{key:"command",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(t,{message:"Name"}),body:a=>e.jsx(j,{label:a.command,description:a.output})},{key:"ran_at",allowsSorting:!0,header:()=>e.jsx(t,{message:"Last ran at"}),body:a=>e.jsx(p,{date:a.ran_at})},{key:"duration",allowsSorting:!0,header:()=>e.jsx(t,{message:"Duration"}),body:a=>`${a.duration}ms`},{key:"exit_code",allowsSorting:!0,header:()=>e.jsx(t,{message:"Completed"}),body:a=>e.jsx(B,{value:a.exit_code===0})},{key:"actions",header:()=>e.jsx(t,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:a=>e.jsx(_,{item:a})}];function _({item:a}){const o=b();return e.jsx(u,{label:e.jsx(t,{message:"Rerun now"}),children:e.jsx(g,{size:"md",className:"text-muted",disabled:o.isPending,onClick:()=>{o.mutate({id:a.id})},children:e.jsx(f,{})})})}const A=""+new URL("timeline-rkMiiJX5.svg",import.meta.url).href;function ye(){const{searchParams:a,sortDescriptor:o,mergeIntoSearchParams:s,setSearchQuery:m,isFiltering:n}=C(h),r=k({...x.logs.cron(a)}),l=e.jsx(D,{elementType:"a",href:"api/v1/logs/schedule/download",download:!0,icon:e.jsx(R,{}),children:e.jsx(t,{message:"Download log"})});return e.jsxs(T,{children:[e.jsx(y,{query:r}),e.jsxs(v,{children:[e.jsx(S,{searchValue:a.query,onSearchChange:m,actions:l}),e.jsxs(I,{children:[e.jsx(N,{columns:E,data:r.items,sortDescriptor:o,onSortChange:s,enableSelection:!1}),r.isEmpty&&e.jsx(P,{isFiltering:n,image:A,title:e.jsx(t,{message:"No scheduled commands have ran yet"}),filteringTitle:e.jsx(t,{message:"No matching scheduled commands"})}),e.jsx(w,{query:r,onPageChange:i=>s({page:i}),onPerPageChange:i=>s({perPage:i})})]})]})]})}export{ye as Component};
