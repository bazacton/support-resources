import{d as c,j as t,B as g,T as s,r as x,b5 as j,aR as h,b3 as y,i as b,s as f,k as v,q as S,t as C,m as E}from"./client-OfhJa1Pp.js";import{h as B,g as p}from"./main-CqFMqK8-.js";import{A as I}from"./article-editor-page-HCga2mrA.js";import{u as n,a as T}from"./custom-menu-BbwshV9x.js";import{B as q,a as o}from"./breadcrumb-DMWJORWM.js";import"./Undo-D06cFnP3.js";import"./tiptap-editor-context-BAgvnYfz.js";import"./list-buttons-BgDZUgyW.js";import"./FormatListNumbered-rvs8UAfH.js";import"./index-W-EjzbYI.js";import"./with-selector-CDgEpx5P.js";import"./select-Dsco87dL.js";import"./combobox-end-adornment-CaH5Sr_u.js";import"./Link-DfTxpaxj.js";import"./color-picker-dialog-C1vQg-H6.js";import"./FormatColorFill-8XiV_8LV.js";import"./image-button-ExYLUK-F.js";import"./image-up-DCwS84Wx.js";import"./use-active-upload-CCDRf1Tl.js";import"./file-upload-provider-DTPBUrkd.js";import"./uploaded-file-DN6fXT4v.js";import"./pretty-bytes-bO14ePu9.js";import"./open-upload-window-CSDcieK1.js";import"./shallow-BSWIanyL.js";import"./MoreVert-Ci70_mZh.js";import"./PriorityHigh-C-SfNUlB.js";import"./datatable-page-with-header-layout-B1YkbSHJ.js";import"./use-toggle-dashboard-left-sidebar-CnzMOFB9.js";import"./toggle-left-sidebar-icon-Dq5ZwqwZ.js";import"./ArrowBack-DcV9hHRo.js";import"./index-DTFmR8Ac.js";import"./core-Dg-ESrC8.js";import"./index-RecbqAl0.js";import"./Edit-JNj6SFDx.js";import"./dashboard-sidenav-B5THGxpt.js";import"./toggle-right-sidebar-icon-DXM314Tt.js";import"./useEffectEvent-DQn3o5L0.js";import"./ChevronRight-T5gg5A4x.js";import"./MoreHoriz-hMMIYAbm.js";function xt(){const{snippetId:a}=n(["snippetId"]),r=T(p.snippets.get(a)),e=w(),i=c({defaultValues:{title:r.data.snippet.title}}),m=()=>{e.mutate(i.getValues())},d=t.jsxs(q,{size:"xl",children:[t.jsx(o,{to:"../knowledge",children:t.jsx(s,{message:"Knowledge"})}),t.jsx(o,{to:"../knowledge/snippets",children:t.jsx(s,{message:"Snippets"})}),t.jsx(o,{children:t.jsx(s,{message:"Edit"})})]}),u=t.jsx(g,{type:"submit",variant:"flat",color:"primary",size:"xs",disabled:e.isPending,onClick:()=>m(),children:t.jsx(s,{message:"Save"})});return t.jsxs(x.Fragment,{children:[t.jsx(B,{children:t.jsx(s,{message:"Edit snippet"})}),t.jsx(j,{...i,children:t.jsx(I,{imageUploadType:h.articleImages,title:d,saveButton:u,initialContent:r.data.snippet.body,onChange:l=>{i.setValue("body",l,{shouldDirty:!0})}})})]})}function w(){const a=y(),{snippetId:r}=n(["snippetId"]);return b({mutationFn:e=>v.put(`lc/ai-agent/snippets/${r}`,e).then(i=>i.data),onError:e=>f(e),onSuccess:async()=>{await S.invalidateQueries({queryKey:p.snippets.invalidateKey}),C(E("Snippet updated")),a("../..",{relative:"path"})}})}export{xt as Component};
